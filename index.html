<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Demographic Analysis Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2c3e50;
            --accent: #e74c3c;
            --light: #ecf0f1;
            --dark: #2c3e50;
            --success: #2ecc71;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--dark);
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            color: white;
            padding: 1.5rem 0;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8rem;
            font-weight: 700;
        }
        
        nav ul {
            display: flex;
            list-style: none;
        }
        
        nav ul li {
            margin-left: 1.5rem;
        }
        
        nav ul li a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }
        
        nav ul li a:hover {
            color: var(--light);
        }
        
        .hero {
            padding: 3rem 0;
            text-align: center;
            background-color: white;
            margin-bottom: 2rem;
            border-radius: 0 0 10px 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--secondary);
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 800px;
            margin: 0 auto 2rem;
            color: #555;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 5px;
            text-decoration: none;
            font-weight: 600;
            transition: background-color 0.3s;
            border: none;
            cursor: pointer;
        }
        
        .btn:hover {
            background-color: #2980b9;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 2rem;
            color: var(--secondary);
            position: relative;
        }
        
        .section-title::after {
            content: '';
            display: block;
            width: 80px;
            height: 4px;
            background-color: var(--primary);
            margin: 0.5rem auto;
            border-radius: 2px;
        }
        
        .dashboard {
            display: grid;
            grid-template-columns: 1fr 3fr;
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .filters {
            background-color: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .filters h3 {
            margin-bottom: 1rem;
            color: var(--secondary);
        }
        
        .filter-group {
            margin-bottom: 1.5rem;
        }
        
        .filter-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
        }
        
        .filter-group select, .filter-group input {
            width: 100%;
            padding: 0.7rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        .charts-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
        }
        
        .chart-card {
            background-color: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
        }
        
        .chart-card h3 {
            margin-bottom: 1rem;
            color: var(--secondary);
        }
        
        .chart-container {
            position: relative;
            height: 300px;
        }
        
        .data-table {
            background-color: white;
            padding: 1.5rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 3rem;
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
        }
        
        th, td {
            padding: 0.8rem 1rem;
            text-align: left;
            border-bottom: 1px solid #eee;
        }
        
        th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: var(--secondary);
        }
        
        tr:hover {
            background-color: #f8f9fa;
        }
        
        .insights {
            background-color: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 3rem;
        }
        
        .insight-item {
            margin-bottom: 1.5rem;
            padding-left: 1.5rem;
            border-left: 4px solid var(--primary);
        }
        
        .insight-item h4 {
            margin-bottom: 0.5rem;
            color: var(--secondary);
        }
        
        footer {
            background-color: var(--secondary);
            color: white;
            padding: 2rem 0;
            text-align: center;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .footer-links {
            display: flex;
            list-style: none;
        }
        
        .footer-links li {
            margin-left: 1.5rem;
        }
        
        .footer-links a {
            color: white;
            text-decoration: none;
        }
        
        @media (max-width: 992px) {
            .dashboard {
                grid-template-columns: 1fr;
            }
            
            .charts-container {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            .footer-links {
                justify-content: center;
            }
        }
        
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 1rem;
            }
            
            nav ul {
                justify-content: center;
            }
            
            nav ul li {
                margin: 0 0.5rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">Demographic Insights</div>
                <nav>
                    <ul>
                        <li><a href="#dashboard">Dashboard</a></li>
                        <li><a href="#data">Data Table</a></li>
                        <li><a href="#insights">Insights</a></li>
                        <li><a href="#" class="btn" id="exportBtn">Export Data</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1>Demographic Analysis Using Tables and Graphs</h1>
            <p>Explore population trends, age distributions, income levels, and more through interactive visualizations and comprehensive data tables.</p>
            <a href="#dashboard" class="btn">Explore Dashboard</a>
        </div>
    </section>

    <section id="dashboard" class="container">
        <h2 class="section-title">Demographic Dashboard</h2>
        <div class="dashboard">
            <div class="filters">
                <h3>Filter Data</h3>
                <div class="filter-group">
                    <label for="region">Region</label>
                    <select id="region">
                        <option value="all">All Regions</option>
                        <option value="north">North</option>
                        <option value="south">South</option>
                        <option value="east">East</option>
                        <option value="west">West</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="year">Year</label>
                    <select id="year">
                        <option value="2023">2023</option>
                        <option value="2022">2022</option>
                        <option value="2021">2021</option>
                        <option value="2020">2020</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="age-group">Age Group</label>
                    <select id="age-group">
                        <option value="all">All Ages</option>
                        <option value="0-17">0-17</option>
                        <option value="18-34">18-34</option>
                        <option value="35-54">35-54</option>
                        <option value="55+">55+</option>
                    </select>
                </div>
                <button class="btn" style="width: 100%;" onclick="applyFilters()">Apply Filters</button>
            </div>
            
            <div class="charts-container">
                <div class="chart-card">
                    <h3>Population by Age Group</h3>
                    <div class="chart-container">
                        <canvas id="ageChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h3>Income Distribution</h3>
                    <div class="chart-container">
                        <canvas id="incomeChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h3>Education Level</h3>
                    <div class="chart-container">
                        <canvas id="educationChart"></canvas>
                    </div>
                </div>
                <div class="chart-card">
                    <h3>Regional Population</h3>
                    <div class="chart-container">
                        <canvas id="regionChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="data" class="container">
        <h2 class="section-title">Demographic Data Table</h2>
        <div class="data-table">
            <table id="demographicTable">
                <thead>
                    <tr>
                        <th>Region</th>
                        <th>Age Group</th>
                        <th>Population</th>
                        <th>Median Income</th>
                        <th>Education Level</th>
                        <th>Growth Rate</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Table data will be populated by JavaScript -->
                </tbody>
            </table>
        </div>
    </section>

    <section id="insights" class="container">
        <h2 class="section-title">Key Insights</h2>
        <div class="insights">
            <div class="insight-item">
                <h4>Population Aging Trend</h4>
                <p>The 55+ age group shows the highest growth rate at 3.2% annually, indicating an aging population trend that may impact future workforce and healthcare needs.</p>
            </div>
            <div class="insight-item">
                <h4>Income Disparity</h4>
                <p>The Western region shows significantly higher median income compared to other regions, with a 22% difference from the national average.</p>
            </div>
            <div class="insight-item">
                <h4>Education Correlation</h4>
                <p>Regions with higher percentages of college-educated residents consistently show higher median incomes, with a correlation coefficient of 0.78.</p>
            </div>
            <div class="insight-item">
                <h4>Urban vs Rural Divide</h4>
                <p>Urban areas show 35% higher population density and 18% higher median income compared to rural areas, highlighting the ongoing urban-rural economic divide.</p>
            </div>
        </div>
    </section>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="copyright">
                    &copy; 2023 Demographic Insights. All rights reserved.
                </div>
                <ul class="footer-links">
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms of Service</a></li>
                    <li><a href="#">Contact Us</a></li>
                </ul>
            </div>
        </div>
    </footer>

    <script>
        // Sample demographic data
        const demographicData = [
            { region: "North", ageGroup: "0-17", population: 1250000, medianIncome: 45000, education: "High School", growthRate: 1.2 },
            { region: "North", ageGroup: "18-34", population: 1850000, medianIncome: 52000, education: "Some College", growthRate: 2.1 },
            { region: "North", ageGroup: "35-54", population: 1650000, medianIncome: 68000, education: "Bachelor's", growthRate: 1.8 },
            { region: "North", ageGroup: "55+", population: 1200000, medianIncome: 62000, education: "High School", growthRate: 3.2 },
            { region: "South", ageGroup: "0-17", population: 1450000, medianIncome: 42000, education: "High School", growthRate: 1.5 },
            { region: "South", ageGroup: "18-34", population: 1950000, medianIncome: 48000, education: "Some College", growthRate: 2.4 },
            { region: "South", ageGroup: "35-54", population: 1750000, medianIncome: 62000, education: "Bachelor's", growthRate: 2.0 },
            { region: "South", ageGroup: "55+", population: 1350000, medianIncome: 58000, education: "High School", growthRate: 3.5 },
            { region: "East", ageGroup: "0-17", population: 1150000, medianIncome: 47000, education: "High School", growthRate: 1.1 },
            { region: "East", ageGroup: "18-34", population: 1750000, medianIncome: 55000, education: "Bachelor's", growthRate: 2.2 },
            { region: "East", ageGroup: "35-54", population: 1550000, medianIncome: 72000, education: "Master's", growthRate: 1.9 },
            { region: "East", ageGroup: "55+", population: 1100000, medianIncome: 65000, education: "Some College", growthRate: 3.1 },
            { region: "West", ageGroup: "0-17", population: 1350000, medianIncome: 52000, education: "High School", growthRate: 1.3 },
            { region: "West", ageGroup: "18-34", population: 2050000, medianIncome: 62000, education: "Bachelor's", growthRate: 2.8 },
            { region: "West", ageGroup: "35-54", population: 1850000, medianIncome: 85000, education: "Master's", growthRate: 2.3 },
            { region: "West", ageGroup: "55+", population: 1400000, medianIncome: 72000, education: "Bachelor's", growthRate: 3.7 }
        ];

        // Initialize charts
        let ageChart, incomeChart, educationChart, regionChart;

        function initCharts() {
            // Age Group Chart
            const ageCtx = document.getElementById('ageChart').getContext('2d');
            ageChart = new Chart(ageCtx, {
                type: 'bar',
                data: {
                    labels: ['0-17', '18-34', '35-54', '55+'],
                    datasets: [{
                        label: 'Population',
                        data: [5200000, 7600000, 6800000, 5050000],
                        backgroundColor: [
                            'rgba(52, 152, 219, 0.7)',
                            'rgba(46, 204, 113, 0.7)',
                            'rgba(155, 89, 182, 0.7)',
                            'rgba(241, 196, 15, 0.7)'
                        ],
                        borderColor: [
                            'rgba(52, 152, 219, 1)',
                            'rgba(46, 204, 113, 1)',
                            'rgba(155, 89, 182, 1)',
                            'rgba(241, 196, 15, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            title: {
                                display: true,
                                text: 'Population'
                            }
                        }
                    }
                }
            });

            // Income Distribution Chart
            const incomeCtx = document.getElementById('incomeChart').getContext('2d');
            incomeChart = new Chart(incomeCtx, {
                type: 'line',
                data: {
                    labels: ['North', 'South', 'East', 'West'],
                    datasets: [{
                        label: 'Median Income ($)',
                        data: [56750, 52500, 59750, 67750],
                        backgroundColor: 'rgba(231, 76, 60, 0.2)',
                        borderColor: 'rgba(231, 76, 60, 1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: false,
                            title: {
                                display: true,
                                text: 'Median Income ($)'
                            }
                        }
                    }
                }
            });

            // Education Level Chart
            const educationCtx = document.getElementById('educationChart').getContext('2d');
            educationChart = new Chart(educationCtx, {
                type: 'doughnut',
                data: {
                    labels: ['High School', 'Some College', 'Bachelor\'s', 'Master\'s'],
                    datasets: [{
                        data: [30, 25, 35, 10],
                        backgroundColor: [
                            'rgba(52, 152, 219, 0.7)',
                            'rgba(46, 204, 113, 0.7)',
                            'rgba(155, 89, 182, 0.7)',
                            'rgba(241, 196, 15, 0.7)'
                        ],
                        borderColor: [
                            'rgba(52, 152, 219, 1)',
                            'rgba(46, 204, 113, 1)',
                            'rgba(155, 89, 182, 1)',
                            'rgba(241, 196, 15, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });

            // Regional Population Chart
            const regionCtx = document.getElementById('regionChart').getContext('2d');
            regionChart = new Chart(regionCtx, {
                type: 'pie',
                data: {
                    labels: ['North', 'South', 'East', 'West'],
                    datasets: [{
                        data: [5950000, 6500000, 5550000, 6650000],
                        backgroundColor: [
                            'rgba(52, 152, 219, 0.7)',
                            'rgba(46, 204, 113, 0.7)',
                            'rgba(155, 89, 182, 0.7)',
                            'rgba(241, 196, 15, 0.7)'
                        ],
                        borderColor: [
                            'rgba(52, 152, 219, 1)',
                            'rgba(46, 204, 113, 1)',
                            'rgba(155, 89, 182, 1)',
                            'rgba(241, 196, 15, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        }
                    }
                }
            });
        }

        // Populate table with data
        function populateTable(data) {
            const tableBody = document.getElementById('tableBody');
            tableBody.innerHTML = '';
            
            data.forEach(item => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${item.region}</td>
                    <td>${item.ageGroup}</td>
                    <td>${item.population.toLocaleString()}</td>
                    <td>$${item.medianIncome.toLocaleString()}</td>
                    <td>${item.education}</td>
                    <td>${item.growthRate}%</td>
                `;
                tableBody.appendChild(row);
            });
        }

        // Apply filters
        function applyFilters() {
            const regionFilter = document.getElementById('region').value;
            const yearFilter = document.getElementById('year').value;
            const ageFilter = document.getElementById('age-group').value;
            
            let filteredData = demographicData;
            
            if (regionFilter !== 'all') {
                filteredData = filteredData.filter(item => item.region.toLowerCase() === regionFilter);
            }
            
            if (ageFilter !== 'all') {
                filteredData = filteredData.filter(item => item.ageGroup === ageFilter);
            }
            
            populateTable(filteredData);
            
            // Update charts based on filtered data
            updateCharts(filteredData);
        }

        // Update charts with filtered data
        function updateCharts(filteredData) {
            // For simplicity, we'll just update the age chart
            // In a real application, you would update all charts
            
            // Calculate new data for age chart
            const ageGroups = ['0-17', '18-34', '35-54', '55+'];
            const newAgeData = ageGroups.map(age => {
                const groupData = filteredData.filter(item => item.ageGroup === age);
                return groupData.reduce((sum, item) => sum + item.population, 0);
            });
            
            // Update the age chart
            ageChart.data.datasets[0].data = newAgeData;
            ageChart.update();
        }

        // Export data functionality
        document.getElementById('exportBtn').addEventListener('click', function() {
            // Create CSV content
            let csvContent = "Region,Age Group,Population,Median Income,Education Level,Growth Rate\n";
            
            demographicData.forEach(item => {
                csvContent += `${item.region},${item.ageGroup},${item.population},${item.medianIncome},${item.education},${item.growthRate}\n`;
            });
            
            // Create download link
            const encodedUri = encodeURI('data:text/csv;charset=utf-8,' + csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "demographic_data.csv");
            document.body.appendChild(link);
            
            // Trigger download
            link.click();
            document.body.removeChild(link);
        });

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function() {
            initCharts();
            populateTable(demographicData);
        });
    </script>
</body>
</html>
